spring:
    config:
        import: optional:file:.env[.properties]
    datasource:
        url: jdbc:postgresql://${DB_POSTS_HOST}:${DB_POSTS_PORT}/${DB_POSTS_NAME}
        username: ${DB_POSTS_USER}
        password: ${DB_POSTS_PASSWORD}
    jpa:
        generate-ddl: true
        properties:
            hibernate:
                auto_quote_keyword: true
                dialect: org.hibernate.dialect.PostgreSQLDialect
    profiles:
        active: prod

server:
    port: ${API_POSTS_PORT:3002}

api-posts:
    base-url: http://${API_POSTS_HOST}:${API_POSTS_PORT}
    prefix: ${API_POSTS_PREFIX:api}
    resource: ${API_POSTS_RESOURCE:posts}

api-users:
    base-url: http://${API_USERS_HOST}:${API_USERS_PORT}
    port: ${API_USERS_PORT}
    prefix: ${API_USERS_PREFIX:api}
    resource: ${API_USERS_RESOURCE:users}

---

spring:
    config:
        activate:
            on-profile: dev
    jpa:
        hibernate:
            ddl-auto: create
        properties:
            hibernate:
                format_sql: true
                hbm2ddl:
                    import_files: import.sql
                    import_files_sql_extractor: org.hibernate.tool.hbm2ddl.MultipleLinesSqlCommandExtractor
        show-sql: true
    sql:
        init:
            mode: always

---

spring:
    config:
        activate:
            on-profile: prod
    jpa:
        hibernate:
            ddl-auto: update
        show-sql: false
